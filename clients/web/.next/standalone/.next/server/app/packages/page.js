(()=>{var e={};e.id=547,e.ids=[547],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},4451:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>r.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>h,tree:()=>o});var s=a(482),n=a(9108),i=a(2563),r=a.n(i),l=a(8300),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);a.d(t,d);let o=["",{children:["packages",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8523)),"C:\\Users\\tigfi\\Downloads\\paket\\clients\\web\\src\\app\\packages\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,1342)),"C:\\Users\\tigfi\\Downloads\\paket\\clients\\web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\tigfi\\Downloads\\paket\\clients\\web\\src\\app\\packages\\page.tsx"],p="/packages/page",u={require:a,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/packages/page",pathname:"/packages",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7032:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2583,23)),Promise.resolve().then(a.t.bind(a,6840,23)),Promise.resolve().then(a.t.bind(a,8771,23)),Promise.resolve().then(a.t.bind(a,3225,23)),Promise.resolve().then(a.t.bind(a,9295,23)),Promise.resolve().then(a.t.bind(a,3982,23))},7942:()=>{},7438:(e,t,a)=>{Promise.resolve().then(a.bind(a,3543))},3733:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},3543:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(2295),n=a(3729),i=a(5831),r=a(1441),l=a(6548),d=a(9224);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,d.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var c=a(3733);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,d.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function u(){let[e,t]=(0,n.useState)([]),[a,d]=(0,n.useState)(!0),[u,x]=(0,n.useState)(""),[g,m]=(0,n.useState)("all"),[f,v]=(0,n.useState)(!1);async function y(){try{d(!0);let e=await (0,l.ZS)(100);t(e)}catch(e){console.error("Failed to load packages:",e)}finally{d(!1)}}(0,n.useEffect)(()=>{y()},[]);let j=e.filter(e=>{let t=e.package_id.toLowerCase().includes(u.toLowerCase())||e.ocr_text.toLowerCase().includes(u.toLowerCase()),a="all"===g||e.status===g;return t&&a});return(0,s.jsxs)("div",{className:"layout",children:[s.jsx(i.Z,{active:"packages"}),(0,s.jsxs)("main",{className:"main-content",children:[(0,s.jsxs)("div",{className:"page-header",children:[s.jsx("h1",{className:"page-title",children:"Packages"}),s.jsx("p",{className:"page-description",children:"Manage all ingested packages and their processing status"})]}),s.jsx("div",{className:"card",style:{marginBottom:"24px"},children:(0,s.jsxs)("div",{style:{display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"},children:[s.jsx("div",{style:{flex:1,minWidth:"250px"},children:(0,s.jsxs)("div",{style:{position:"relative"},children:[s.jsx(o,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),s.jsx("input",{type:"text",className:"input",placeholder:"Search packages...",value:u,onChange:e=>x(e.target.value),style:{paddingLeft:"40px"}})]})}),(0,s.jsxs)("select",{className:"input",style:{width:"auto",minWidth:"150px"},value:g,onChange:e=>m(e.target.value),children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"geocoded",children:"Geocoded"}),s.jsx("option",{value:"routed",children:"Routed"}),s.jsx("option",{value:"verification_needed",children:"Need Verification"}),s.jsx("option",{value:"failed",children:"Failed"})]}),(0,s.jsxs)("button",{className:"btn btn-secondary",onClick:y,disabled:a,children:[s.jsx(c.Z,{size:16,className:a?"loading":""}),"Refresh"]}),(0,s.jsxs)("button",{className:"btn btn-primary",onClick:()=>v(!0),children:[s.jsx(p,{size:16}),"Ingest Package"]})]})}),(0,s.jsxs)("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"card-title",children:"All Packages"}),(0,s.jsxs)("p",{className:"card-subtitle",children:["Showing ",j.length," of ",e.length," packages"]})]})}),s.jsx(r.Z,{packages:j})]}),f&&s.jsx(h,{onClose:()=>v(!1),onSuccess:()=>{v(!1),y()}})]})]})}function h({onClose:e,onSuccess:t}){let[a,i]=(0,n.useState)({device_id:"web-console",package_id:`PKT${Date.now()}`,ocr_text:"",ocr_confidence:.9,priority:"standard"}),[r,d]=(0,n.useState)(!1),[o,c]=(0,n.useState)("");async function p(e){if(e.preventDefault(),!a.ocr_text.trim()){c("Address text is required");return}try{d(!0),c(""),await (0,l.r7)(a),t()}catch(e){c(e instanceof Error?e.message:"Failed to ingest package")}finally{d(!1)}}return s.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,s.jsxs)("div",{className:"card",style:{width:"500px",maxWidth:"90vw"},children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"card-title",children:"Ingest New Package"})}),(0,s.jsxs)("form",{onSubmit:p,children:[(0,s.jsxs)("div",{className:"input-group",children:[s.jsx("label",{className:"input-label",children:"Package ID"}),s.jsx("input",{type:"text",className:"input",value:a.package_id,onChange:e=>i({...a,package_id:e.target.value})})]}),(0,s.jsxs)("div",{className:"input-group",children:[s.jsx("label",{className:"input-label",children:"Address Text (OCR)"}),s.jsx("textarea",{className:"input",rows:3,placeholder:"e.g., Jalan Merdeka 45 RT 02/RW 03, Kebayoran Lama, Jakarta Selatan 12220",value:a.ocr_text,onChange:e=>i({...a,ocr_text:e.target.value})})]}),(0,s.jsxs)("div",{className:"input-group",children:[s.jsx("label",{className:"input-label",children:"Priority"}),(0,s.jsxs)("select",{className:"input",value:a.priority,onChange:e=>i({...a,priority:e.target.value}),children:[s.jsx("option",{value:"standard",children:"Standard"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"urgent",children:"Urgent"})]})]}),o&&s.jsx("p",{style:{color:"var(--accent-red)",marginBottom:"16px"},children:o}),(0,s.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:r,children:r?"Processing...":"Ingest Package"})]})]})]})})}},1441:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var s=a(2295),n=a(1917),i=a(5961),r=a(2312),l=a(3148),d=a(508),o=a(6958);let c={pending:{label:"Pending",className:"badge-pending"},processing:{label:"Processing",className:"badge-processing"},parsed:{label:"Parsed",className:"badge-processing"},geocoded:{label:"Geocoded",className:"badge-geocoded"},routed:{label:"Routed",className:"badge-routed"},delivered:{label:"Delivered",className:"badge-geocoded"},verification_needed:{label:"Verify",className:"badge-verification"},failed:{label:"Failed",className:"badge-failed"}};function p({packages:e,compact:t,onSelect:a}){return 0===e.length?(0,s.jsxs)("div",{style:{padding:"40px",textAlign:"center",color:"var(--text-muted)"},children:[s.jsx(n.Z,{size:48,style:{marginBottom:"16px",opacity:.5}}),s.jsx("p",{children:"No packages found"})]}):s.jsx("div",{className:"table-container",children:(0,s.jsxs)("table",{className:"table",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{children:[s.jsx("th",{children:"Package ID"}),!t&&s.jsx("th",{children:"Device"}),s.jsx("th",{children:"Address (OCR)"}),s.jsx("th",{children:"Confidence"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Time"}),!t&&s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:e.map(e=>{let n=c[e.status]||c.pending,p=(100*e.ocr_confidence).toFixed(0),u=e.ocr_confidence<.7;return(0,s.jsxs)("tr",{onClick:()=>a?.(e),style:{cursor:a?"pointer":"default"},children:[s.jsx("td",{children:s.jsx("span",{style:{fontFamily:"monospace",fontSize:"13px"},children:e.package_id})}),!t&&s.jsx("td",{style:{color:"var(--text-secondary)"},children:e.device_id}),s.jsx("td",{children:s.jsx("div",{style:{maxWidth:t?"200px":"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"13px"},children:e.ocr_text})}),s.jsx("td",{children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:u?"var(--accent-orange)":"var(--accent-green)"},children:[u?s.jsx(i.Z,{size:14}):s.jsx(r.Z,{size:14}),(0,s.jsxs)("span",{children:[p,"%"]})]})}),s.jsx("td",{children:s.jsx("span",{className:`badge ${n.className}`,children:n.label})}),s.jsx("td",{style:{color:"var(--text-muted)",fontSize:"13px"},children:(0,o.Q)(new Date(e.created_at),{addSuffix:!0})}),!t&&s.jsx("td",{children:(0,s.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("button",{className:"btn btn-icon btn-secondary",title:"View Details",children:s.jsx(l.Z,{size:16})}),s.jsx("button",{className:"btn btn-icon btn-secondary",title:"View on Map",children:s.jsx(d.Z,{size:16})})]})})]},e.id)})})]})})}},5831:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var s=a(2295),n=a(783),i=a.n(n),r=a(2254),l=a(2273),d=a(1917),o=a(508),c=a(6278),p=a(6138),u=a(340),h=a(3746);let x=[{id:"dashboard",label:"Dashboard",icon:l.Z,href:"/"},{id:"packages",label:"Packages",icon:d.Z,href:"/packages"},{id:"routes",label:"Routes",icon:o.Z,href:"/routes"},{id:"vehicles",label:"Vehicles",icon:c.Z,href:"/vehicles"},{id:"verification",label:"Verification",icon:p.Z,href:"/verification"},{id:"analytics",label:"Analytics",icon:u.Z,href:"/analytics"}];function g({active:e}){let t=(0,r.usePathname)();return(0,s.jsxs)("aside",{className:"sidebar",children:[s.jsx("div",{style:{padding:"0 20px",marginBottom:"32px"},children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx("div",{style:{width:"40px",height:"40px",background:"var(--gradient-blue)",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(d.Z,{size:22,color:"white"})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{style:{fontSize:"18px",fontWeight:"700"},children:"Paket"}),s.jsx("p",{style:{fontSize:"12px",color:"var(--text-muted)"},children:"Routing System"})]})]})}),s.jsx("nav",{children:(0,s.jsxs)("div",{style:{padding:"0 12px"},children:[s.jsx("p",{style:{fontSize:"11px",fontWeight:"600",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"1px",padding:"0 8px",marginBottom:"8px"},children:"Menu"}),x.map(a=>{let n=e===a.id||t===a.href,r=a.icon;return(0,s.jsxs)(i(),{href:a.href,style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",borderRadius:"var(--radius-md)",marginBottom:"4px",color:n?"var(--text-primary)":"var(--text-secondary)",background:n?"var(--bg-tertiary)":"transparent",transition:"var(--transition-fast)",position:"relative"},children:[n&&s.jsx("div",{style:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"3px",height:"24px",background:"var(--gradient-blue)",borderRadius:"0 4px 4px 0"}}),s.jsx(r,{size:20}),s.jsx("span",{style:{fontSize:"14px",fontWeight:n?"500":"400"},children:a.label})]},a.id)})]})}),s.jsx("div",{style:{position:"absolute",bottom:"20px",left:"0",right:"0",padding:"0 12px"},children:(0,s.jsxs)(i(),{href:"/settings",style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",borderRadius:"var(--radius-md)",color:"var(--text-secondary)",transition:"var(--transition-fast)"},children:[s.jsx(h.Z,{size:20}),s.jsx("span",{style:{fontSize:"14px"},children:"Settings"})]})})]})}},6548:(e,t,a)=>{"use strict";async function s(e,t){let a=await fetch(`/api/v1${e}`,{headers:{"Content-Type":"application/json",...t?.headers},...t});if(!a.ok)throw Error((await a.json().catch(()=>({detail:"Request failed"}))).detail||`HTTP ${a.status}`);return a.json()}async function n(e=50){try{return(await s(`/ingest?limit=${e}`)).packages||[]}catch{return function(e){let t=["pending","geocoded","routed","verification_needed"],a=["Jakarta Selatan","Jakarta Pusat","Jakarta Barat","Jakarta Timur","Jakarta Utara"],s=["Jalan Sudirman","Jalan Thamrin","Jalan Gatot Subroto","Jalan Rasuna Said","Jalan Kemang"];return Array.from({length:e},(e,n)=>{let i=t[Math.floor(Math.random()*t.length)],r=a[Math.floor(Math.random()*a.length)],l=s[Math.floor(Math.random()*s.length)];return{id:`pkg-${n+1}`,package_id:`PKT${new Date().getFullYear()}${String(n+1).padStart(6,"0")}`,device_id:`scanner-${Math.floor(20*Math.random())+1}`,ocr_text:`${l} No. ${Math.floor(200*Math.random())+1}, RT 0${Math.floor(9*Math.random())+1}/RW 0${Math.floor(9*Math.random())+1}, ${r}`,ocr_confidence:.3*Math.random()+.65,status:i,priority:Math.random()>.8?"high":"standard",created_at:new Date(Date.now()-864e5*Math.random()).toISOString()}})}(e)}}async function i(e){return s("/ingest/ocr-text",{method:"POST",body:JSON.stringify(e)})}async function r(e){return(await s("/address/parse",{method:"POST",body:JSON.stringify({raw_text:e,apply_corrections:!0})})).address}async function l(e){try{let t=e?`?planned_date=${e}`:"";return(await s(`/routes${t}`)).routes||[]}catch{return[{id:"route-1",vehicle_id:"V001",vehicle_code:"V001",driver_name:"Driver A",planned_date:new Date().toISOString().split("T")[0],status:"planned",total_distance_km:25.4,total_time_minutes:180,total_stops:12,stops:[{sequence:0,lat:-6.2088,lon:106.8456,address_summary:"Depot",status:"completed"},{sequence:1,package_id:"PKT001",lat:-6.225,lon:106.795,address_summary:"Jalan Sudirman 45",status:"pending"},{sequence:2,package_id:"PKT002",lat:-6.235,lon:106.78,address_summary:"Jalan Thamrin 12",status:"pending"},{sequence:3,package_id:"PKT003",lat:-6.215,lon:106.82,address_summary:"Jalan Gatot Subroto 78",status:"pending"}]},{id:"route-2",vehicle_id:"V002",vehicle_code:"V002",driver_name:"Driver B",planned_date:new Date().toISOString().split("T")[0],status:"planned",total_distance_km:18.7,total_time_minutes:150,total_stops:8,stops:[{sequence:0,lat:-6.2088,lon:106.8456,address_summary:"Depot",status:"completed"},{sequence:1,package_id:"PKT004",lat:-6.18,lon:106.83,address_summary:"Jalan Kemang 33",status:"pending"},{sequence:2,package_id:"PKT005",lat:-6.19,lon:106.85,address_summary:"Jalan Rasuna Said 99",status:"pending"}]}]}}async function d(e){return s("/routes/optimize",{method:"POST",body:JSON.stringify(e)})}async function o(){try{await s("/health/ready");let e=await n(200);return{total_packages:e.length,pending_packages:e.filter(e=>"pending"===e.status).length,geocoded_packages:e.filter(e=>"geocoded"===e.status).length,routed_packages:e.filter(e=>"routed"===e.status).length,verification_needed:e.filter(e=>"verification_needed"===e.status).length,total_routes_today:0,active_vehicles:3,avg_confidence:e.reduce((e,t)=>e+t.ocr_confidence,0)/e.length||0}}catch{return{total_packages:156,pending_packages:12,geocoded_packages:89,routed_packages:45,verification_needed:10,total_routes_today:8,active_vehicles:5,avg_confidence:.87}}}a.d(t,{Cy:()=>r,H7:()=>l,ZS:()=>n,mP:()=>o,r7:()=>i,x$:()=>d})},1342:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l,metadata:()=>r});var s=a(5036),n=a(3640),i=a.n(n);a(5023);let r={title:"Paket Dashboard - Package Routing System",description:"Admin dashboard for package routing, OCR verification, and route optimization"};function l({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:i().className,children:e})})}},8523:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>r});let s=(0,a(6843).createProxy)(String.raw`C:\Users\tigfi\Downloads\paket\clients\web\src\app\packages\page.tsx`),{__esModule:n,$$typeof:i}=s,r=s.default},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[803,716,680],()=>a(4451));module.exports=s})();