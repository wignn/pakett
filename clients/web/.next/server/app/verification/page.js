(()=>{var e={};e.id=573,e.ids=[573],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},2090:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>l});var r=a(482),i=a(9108),s=a(2563),n=a.n(s),d=a(8300),o={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);a.d(t,o);let l=["",{children:["verification",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,303)),"C:\\Users\\tigfi\\Downloads\\paket\\clients\\web\\src\\app\\verification\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,1342)),"C:\\Users\\tigfi\\Downloads\\paket\\clients\\web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\tigfi\\Downloads\\paket\\clients\\web\\src\\app\\verification\\page.tsx"],p="/verification/page",x={require:a,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/verification/page",pathname:"/verification",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},7032:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2583,23)),Promise.resolve().then(a.t.bind(a,6840,23)),Promise.resolve().then(a.t.bind(a,8771,23)),Promise.resolve().then(a.t.bind(a,3225,23)),Promise.resolve().then(a.t.bind(a,9295,23)),Promise.resolve().then(a.t.bind(a,3982,23))},7942:()=>{},5368:(e,t,a)=>{Promise.resolve().then(a.bind(a,987))},5961:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(9224).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2312:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(9224).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},3148:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(9224).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},987:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var r=a(2295),i=a(3729),s=a(5831),n=a(6548),d=a(2312),o=a(5961),l=a(9224);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,l.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var p=a(3148);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,l.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function u(){let[e,t]=(0,i.useState)([]),[a,l]=(0,i.useState)(!0),[u,h]=(0,i.useState)(null),[g,m]=(0,i.useState)(null),[v,f]=(0,i.useState)(!1);async function y(){try{l(!0);let e=(await (0,n.ZS)(100)).filter(e=>"verification_needed"===e.status||e.ocr_confidence<.7);t(e)}catch(e){console.error("Failed to load packages:",e)}finally{l(!1)}}async function j(e){h(e),f(!0);try{let t=await (0,n.Cy)(e.ocr_text);m(t)}catch(e){console.error("Failed to parse address:",e),m(null)}finally{f(!1)}}async function _(){if(u&&g)try{t(e=>e.filter(e=>e.id!==u.id)),h(null),m(null)}catch(e){console.error("Failed to approve:",e)}}async function b(){u&&(t(e=>e.filter(e=>e.id!==u.id)),h(null),m(null))}return(0,i.useEffect)(()=>{y()},[]),(0,r.jsxs)("div",{className:"layout",children:[r.jsx(s.Z,{active:"verification"}),(0,r.jsxs)("main",{className:"main-content",children:[(0,r.jsxs)("div",{className:"page-header",children:[r.jsx("h1",{className:"page-title",children:"Address Verification"}),r.jsx("p",{className:"page-description",children:"Review and correct low-confidence addresses"})]}),(0,r.jsxs)("div",{className:"grid-2",children:[(0,r.jsxs)("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"card-title",children:"Verification Queue"}),(0,r.jsxs)("p",{className:"card-subtitle",children:[e.length," items pending"]})]})}),a?r.jsx("div",{style:{padding:"40px",textAlign:"center",color:"var(--text-muted)"},children:"Loading..."}):0===e.length?(0,r.jsxs)("div",{style:{padding:"40px",textAlign:"center",color:"var(--text-muted)"},children:[r.jsx(d.Z,{size:48,style:{marginBottom:"16px",color:"var(--accent-green)"}}),r.jsx("p",{children:"All addresses verified!"})]}):r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map(e=>(0,r.jsxs)("button",{onClick:()=>j(e),style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",background:u?.id===e.id?"var(--bg-hover)":"var(--bg-tertiary)",border:u?.id===e.id?"1px solid var(--accent-blue)":"1px solid var(--border-primary)",borderRadius:"var(--radius-md)",cursor:"pointer",textAlign:"left",width:"100%",transition:"var(--transition-fast)"},children:[r.jsx(o.Z,{size:20,color:e.ocr_confidence<.5?"var(--accent-red)":"var(--accent-orange)"}),(0,r.jsxs)("div",{style:{flex:1},children:[r.jsx("div",{style:{fontWeight:"500",marginBottom:"4px"},children:e.package_id}),r.jsx("div",{style:{fontSize:"13px",color:"var(--text-secondary)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"300px"},children:e.ocr_text})]}),(0,r.jsxs)("div",{style:{fontSize:"13px",color:e.ocr_confidence<.5?"var(--accent-red)":"var(--accent-orange)"},children:[(100*e.ocr_confidence).toFixed(0),"%"]}),r.jsx(c,{size:18,color:"var(--text-muted)"})]},e.id))})]}),(0,r.jsxs)("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h2",{className:"card-title",children:"Verification Panel"})}),u?v?r.jsx("div",{style:{padding:"60px 40px",textAlign:"center",color:"var(--text-muted)"},children:r.jsx("div",{className:"loading",children:"Parsing address..."})}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{marginBottom:"24px"},children:[r.jsx("label",{className:"input-label",children:"Original OCR Text"}),r.jsx("div",{style:{padding:"12px 16px",background:"var(--bg-tertiary)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-primary)",fontSize:"14px"},children:u.ocr_text}),(0,r.jsxs)("p",{style:{fontSize:"12px",color:"var(--text-muted)",marginTop:"4px"},children:["Confidence: ",(100*u.ocr_confidence).toFixed(0),"%"]})]}),g&&(0,r.jsxs)("div",{style:{marginBottom:"24px"},children:[r.jsx("label",{className:"input-label",children:"Parsed Address"}),(0,r.jsxs)("div",{style:{padding:"16px",background:"var(--bg-tertiary)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-primary)"},children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:[g.street&&(0,r.jsxs)("div",{children:[r.jsx("span",{style:{fontSize:"12px",color:"var(--text-muted)"},children:"Street"}),(0,r.jsxs)("p",{children:[g.street," ",g.house_number]})]}),(g.rt||g.rw)&&(0,r.jsxs)("div",{children:[r.jsx("span",{style:{fontSize:"12px",color:"var(--text-muted)"},children:"RT/RW"}),(0,r.jsxs)("p",{children:["RT ",g.rt||"-"," / RW ",g.rw||"-"]})]}),g.subdistrict&&(0,r.jsxs)("div",{children:[r.jsx("span",{style:{fontSize:"12px",color:"var(--text-muted)"},children:"Subdistrict"}),r.jsx("p",{children:g.subdistrict})]}),g.city&&(0,r.jsxs)("div",{children:[r.jsx("span",{style:{fontSize:"12px",color:"var(--text-muted)"},children:"City"}),r.jsx("p",{children:g.city})]}),g.postal_code&&(0,r.jsxs)("div",{children:[r.jsx("span",{style:{fontSize:"12px",color:"var(--text-muted)"},children:"Postal Code"}),r.jsx("p",{children:g.postal_code})]})]}),g.corrections_applied?.length>0&&r.jsx("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid var(--border-primary)"},children:(0,r.jsxs)("span",{style:{fontSize:"12px",color:"var(--accent-blue)"},children:["Corrections applied: ",g.corrections_applied.join(", ")]})})]}),(0,r.jsxs)("p",{style:{fontSize:"12px",color:"var(--text-muted)",marginTop:"4px"},children:["Parse confidence: ",(100*g.confidence).toFixed(0),"%"]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,r.jsxs)("button",{className:"btn btn-danger",onClick:b,style:{flex:1},children:[r.jsx(x,{size:18}),"Reject"]}),(0,r.jsxs)("button",{className:"btn btn-success",onClick:_,style:{flex:1},children:[r.jsx(d.Z,{size:18}),"Approve"]})]})]}):(0,r.jsxs)("div",{style:{padding:"60px 40px",textAlign:"center",color:"var(--text-muted)"},children:[r.jsx(p.Z,{size:48,style:{marginBottom:"16px",opacity:.5}}),r.jsx("p",{children:"Select a package to verify"})]})]})]})]})]})}},5831:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var r=a(2295),i=a(783),s=a.n(i),n=a(2254),d=a(2273),o=a(1917),l=a(508),c=a(6278),p=a(6138),x=a(340),u=a(3746);let h=[{id:"dashboard",label:"Dashboard",icon:d.Z,href:"/"},{id:"packages",label:"Packages",icon:o.Z,href:"/packages"},{id:"routes",label:"Routes",icon:l.Z,href:"/routes"},{id:"vehicles",label:"Vehicles",icon:c.Z,href:"/vehicles"},{id:"verification",label:"Verification",icon:p.Z,href:"/verification"},{id:"analytics",label:"Analytics",icon:x.Z,href:"/analytics"}];function g({active:e}){let t=(0,n.usePathname)();return(0,r.jsxs)("aside",{className:"sidebar",children:[r.jsx("div",{style:{padding:"0 20px",marginBottom:"32px"},children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r.jsx("div",{style:{width:"40px",height:"40px",background:"var(--gradient-blue)",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(o.Z,{size:22,color:"white"})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{style:{fontSize:"18px",fontWeight:"700"},children:"Paket"}),r.jsx("p",{style:{fontSize:"12px",color:"var(--text-muted)"},children:"Routing System"})]})]})}),r.jsx("nav",{children:(0,r.jsxs)("div",{style:{padding:"0 12px"},children:[r.jsx("p",{style:{fontSize:"11px",fontWeight:"600",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"1px",padding:"0 8px",marginBottom:"8px"},children:"Menu"}),h.map(a=>{let i=e===a.id||t===a.href,n=a.icon;return(0,r.jsxs)(s(),{href:a.href,style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",borderRadius:"var(--radius-md)",marginBottom:"4px",color:i?"var(--text-primary)":"var(--text-secondary)",background:i?"var(--bg-tertiary)":"transparent",transition:"var(--transition-fast)",position:"relative"},children:[i&&r.jsx("div",{style:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"3px",height:"24px",background:"var(--gradient-blue)",borderRadius:"0 4px 4px 0"}}),r.jsx(n,{size:20}),r.jsx("span",{style:{fontSize:"14px",fontWeight:i?"500":"400"},children:a.label})]},a.id)})]})}),r.jsx("div",{style:{position:"absolute",bottom:"20px",left:"0",right:"0",padding:"0 12px"},children:(0,r.jsxs)(s(),{href:"/settings",style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",borderRadius:"var(--radius-md)",color:"var(--text-secondary)",transition:"var(--transition-fast)"},children:[r.jsx(u.Z,{size:20}),r.jsx("span",{style:{fontSize:"14px"},children:"Settings"})]})})]})}},6548:(e,t,a)=>{"use strict";async function r(e,t){let a=await fetch(`/api/v1${e}`,{headers:{"Content-Type":"application/json",...t?.headers},...t});if(!a.ok)throw Error((await a.json().catch(()=>({detail:"Request failed"}))).detail||`HTTP ${a.status}`);return a.json()}async function i(e=50){try{return(await r(`/ingest?limit=${e}`)).packages||[]}catch{return function(e){let t=["pending","geocoded","routed","verification_needed"],a=["Jakarta Selatan","Jakarta Pusat","Jakarta Barat","Jakarta Timur","Jakarta Utara"],r=["Jalan Sudirman","Jalan Thamrin","Jalan Gatot Subroto","Jalan Rasuna Said","Jalan Kemang"];return Array.from({length:e},(e,i)=>{let s=t[Math.floor(Math.random()*t.length)],n=a[Math.floor(Math.random()*a.length)],d=r[Math.floor(Math.random()*r.length)];return{id:`pkg-${i+1}`,package_id:`PKT${new Date().getFullYear()}${String(i+1).padStart(6,"0")}`,device_id:`scanner-${Math.floor(20*Math.random())+1}`,ocr_text:`${d} No. ${Math.floor(200*Math.random())+1}, RT 0${Math.floor(9*Math.random())+1}/RW 0${Math.floor(9*Math.random())+1}, ${n}`,ocr_confidence:.3*Math.random()+.65,status:s,priority:Math.random()>.8?"high":"standard",created_at:new Date(Date.now()-864e5*Math.random()).toISOString()}})}(e)}}async function s(e){return r("/ingest/ocr-text",{method:"POST",body:JSON.stringify(e)})}async function n(e){return(await r("/address/parse",{method:"POST",body:JSON.stringify({raw_text:e,apply_corrections:!0})})).address}async function d(e){try{let t=e?`?planned_date=${e}`:"";return(await r(`/routes${t}`)).routes||[]}catch{return[{id:"route-1",vehicle_id:"V001",vehicle_code:"V001",driver_name:"Driver A",planned_date:new Date().toISOString().split("T")[0],status:"planned",total_distance_km:25.4,total_time_minutes:180,total_stops:12,stops:[{sequence:0,lat:-6.2088,lon:106.8456,address_summary:"Depot",status:"completed"},{sequence:1,package_id:"PKT001",lat:-6.225,lon:106.795,address_summary:"Jalan Sudirman 45",status:"pending"},{sequence:2,package_id:"PKT002",lat:-6.235,lon:106.78,address_summary:"Jalan Thamrin 12",status:"pending"},{sequence:3,package_id:"PKT003",lat:-6.215,lon:106.82,address_summary:"Jalan Gatot Subroto 78",status:"pending"}]},{id:"route-2",vehicle_id:"V002",vehicle_code:"V002",driver_name:"Driver B",planned_date:new Date().toISOString().split("T")[0],status:"planned",total_distance_km:18.7,total_time_minutes:150,total_stops:8,stops:[{sequence:0,lat:-6.2088,lon:106.8456,address_summary:"Depot",status:"completed"},{sequence:1,package_id:"PKT004",lat:-6.18,lon:106.83,address_summary:"Jalan Kemang 33",status:"pending"},{sequence:2,package_id:"PKT005",lat:-6.19,lon:106.85,address_summary:"Jalan Rasuna Said 99",status:"pending"}]}]}}async function o(e){return r("/routes/optimize",{method:"POST",body:JSON.stringify(e)})}async function l(){try{await r("/health/ready");let e=await i(200);return{total_packages:e.length,pending_packages:e.filter(e=>"pending"===e.status).length,geocoded_packages:e.filter(e=>"geocoded"===e.status).length,routed_packages:e.filter(e=>"routed"===e.status).length,verification_needed:e.filter(e=>"verification_needed"===e.status).length,total_routes_today:0,active_vehicles:3,avg_confidence:e.reduce((e,t)=>e+t.ocr_confidence,0)/e.length||0}}catch{return{total_packages:156,pending_packages:12,geocoded_packages:89,routed_packages:45,verification_needed:10,total_routes_today:8,active_vehicles:5,avg_confidence:.87}}}a.d(t,{Cy:()=>n,H7:()=>d,ZS:()=>i,mP:()=>l,r7:()=>s,x$:()=>o})},1342:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d,metadata:()=>n});var r=a(5036),i=a(3640),s=a.n(i);a(5023);let n={title:"Paket Dashboard - Package Routing System",description:"Admin dashboard for package routing, OCR verification, and route optimization"};function d({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:s().className,children:e})})}},303:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>s,__esModule:()=>i,default:()=>n});let r=(0,a(6843).createProxy)(String.raw`C:\Users\tigfi\Downloads\paket\clients\web\src\app\verification\page.tsx`),{__esModule:i,$$typeof:s}=r,n=r.default},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[803,716],()=>a(2090));module.exports=r})();